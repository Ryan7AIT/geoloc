
<div class="px-4">

  <div class="flex items-center justify-between py-4 mb-4">
    <div class="flex items-center space-x-4">
      <div class="">

      <h1 class="text-2xl font-semibold text-gray-500 ">DATAFIRST Analytics Report</h1>

      <div class="flex justify-start space-x-4 align-middle al">
        
        <p class="px-2 py-2 font-light text-gray-500">{{fleet}}, {{date}}</p>

        <div *ngIf="time == 'monthly'" class=" datepicker">
          <!-- make a button as a next button -->
          <button  class="px-2 py-1 mt-2 text-xs text-gray-600 rounded-lg bg-blue-50" (click)="prevYear()" >Previous year</button>
          <button  class="px-2 py-1 mt-2 text-xs text-gray-600 rounded-lg bg-blue-50" (click)="nextYear()" >Next year</button>
        </div>


        <div *ngIf="time == 'daily'" class=" datepicker">
          <!-- make a button as a next button -->
          <button  class="px-2 py-1 mt-2 text-xs text-gray-600 rounded-lg bg-blue-50" (click)="prevMonth()" >Previous Month</button>
          <button  class="px-2 py-1 mt-2 text-xs text-gray-600 rounded-lg bg-blue-50" (click)="nextMonth()" >Next Month</button>
        </div>


      </div>

    </div>
  </div>

  <button class="px-4 py-2 text-white bg-blue-500 rounded-lg" (click)="toggleMenu()">Filter</button>
  <div *ngIf="showMenu" class="absolute top-0 right-0 mt-12 bg-white border border-gray-300 rounded-lg shadow-lg">
    <div class="p-4">
      <!-- (scroll)="loadMoreData($event)" -->
      <div class="flex flex-col space-y-2">
        <!-- <select class="px-4 py-2 overflow-y-auto border border-gray-300 rounded-lg focus:outline-none" style="height: 200px;" >
          <option *ngFor="let car of cars" [value]="2">test</option>
        </select> -->

        <div class="relative bg-red-50">
          <input type="text" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none" placeholder="Search for a specific car" [(ngModel)]="fleet" (input)="search($event)">
          <div class="absolute left-0 w-full bg-white border border-gray-300 rounded-lg shadow-lg top-10" *ngIf="searchResults.length > 0">
            <ul class="py-2">
              <li *ngFor="let result of searchResults" class="px-4 py-2 cursor-pointer hover:bg-gray-100" (click)="selectResult(result[0],result[1])">
                {{ result[1] }}
              </li>
            </ul>
          </div>
        </div>  

        <select (change)="updateDashboard($event)" id="selectInterval" class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none" [(ngModel)]="time">
          <option value="yearly" [selected]="time === 'yearly'">Yearly</option>
          <option value="monthly" [selected]="time === 'monthly'">Monthly</option>
          <option value="daily" [selected]="time === 'daily'">Daily</option>
        </select>

        <div class="flex items-center space-x-2">
          <div class="flex items-center space-x-2">
            <label for="startDate">Start Date:</label>
            <input type="date" id="startDate" class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none">
          </div>
          <div class="flex items-center space-x-2">
            <label for="endDate">End Date:</label>
            <input type="date" id="endDate" class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none">
          </div>
        </div>
        <button class="px-4 py-2 text-white bg-red-500 rounded-lg" (click)="reset()">Reset</button>
      </div>
    </div>
  </div>
</div>





<div class="flex justify-between mb-4 space-x-3 fline">
  <div class="w-1/4">
    <div class="p-3 text-white bg-blue-500 rounded-lg">
      <h2 class="mb-2 text-xl font-semibold text-center">Tour number</h2>
      <p class="text-lg text-center">3325</p>
    </div>
  </div>
  <div class="w-1/4">
    <div class="p-3 text-white bg-green-500 rounded-lg">
      <h2 class="mb-2 text-xl font-semibold text-center">Number of cars</h2>
      <p class="text-lg text-center">635</p>
    </div>
  </div>
  <div class="w-1/4">
    <div class="p-3 text-white bg-yellow-500 rounded-lg">
      <h2 class="mb-2 text-xl font-semibold text-center">Number of alert</h2>
      <p class="text-lg text-center">56</p>
    </div>
  </div>
  <div class="w-1/4">
    <div class="p-3 text-white bg-red-500 rounded-lg">
      <h2 class="mb-2 text-xl font-semibold text-center">active cars</h2>
      <p class="text-lg text-center">568</p>
    </div>
  </div>
</div>




<div class="flex justify-between space-x-3 fline">
  <div class="w-1/2 graphe">
    <!-- Graph 1 -->
    <app-distance-chart></app-distance-chart>
  </div>
  <div class="w-1/2 graphe">
    <!-- Graph 2 -->
    <app-car-utilization></app-car-utilization>
  </div>
</div>

<div class="flex justify-between space-x-3 fline">
  <div class="w-1/2 graphe">
    <!-- Graph 3 -->
    <app-avg-max-speed-chart></app-avg-max-speed-chart>
  </div>
  <div class="w-1/2 graphe">
            <!-- Graph 4 -->
            <!-- <app-car-usage></app-car-usage> -->
            <app-fuel-chart></app-fuel-chart>
    </div>
  </div>

  <div class="w-full chart h-72 ">
    <!-- Graph 5 -->
    <app-alert-chart></app-alert-chart>
  </div>


  </div>


  
  
